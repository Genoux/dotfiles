@use "../abstracts/variables" as *;
@use "../abstracts/mixins" as *;

// =============================================================================
// BLUETOOTH WIDGET
// =============================================================================

.bluetooth-widget {
  @include card-base;
  padding: $spacing-md;
}

// =============================================================================
// BLUETOOTH HEADER
// =============================================================================

.bluetooth-header {
  @include flex-between;
  border-radius: $radius-md;
  padding: $spacing-sm;
  
  .bluetooth-icon {
    @include status-indicator;
    font-size: $font-size-lg;
    
    &.enabled {
      color: $primary;
      opacity: 1;
    }
    
    &.disabled {
      color: $on-surface-dim;
      opacity: 0.5;
    }
  }
  
  .bluetooth-status-dot {
    min-width: 6px;
    min-height: 6px;
    border-radius: 100px;
    
    &.active {
      background-color: $success;
    }
    
    &.inactive {
      background-color: $on-surface-dim;
    }
  }
  
  .bluetooth-title {
    @include text-primary;
  }
  
  .bluetooth-toggle-btn {
    @include button-base;
    border-radius: $radius-sm;
    padding: 2px 8px;
    min-width: 32px;
    transition: $transition-hover;
    background-color: $surface-container-low;
    
    .bluetooth-toggle-label {
      @include text-secondary;
      font-size: $font-size-xs;
      font-weight: 600;
    }
    
    &.on {
      background-color: $transparent;
    }
  }
  
  .bluetooth-expand-btn {
    @include icon-button($size: $spacing-lg);
    opacity: 0.7;
    
    &:hover {
      opacity: 1;
      background-color: $hover-overlay;
    }
  }
}

// =============================================================================
// BLUETOOTH EXPANDED SECTION
// =============================================================================

.bluetooth-expanded {
  margin-top: $spacing-md;
  padding: $spacing-md $spacing-xs 0 $spacing-xs;
  border-top: 1px solid $outline-variant;
}

// =============================================================================
// BLUETOOTH SCAN BUTTON
// =============================================================================

.bluetooth-scan-button {
  @include interactive-element;
  @include flex-center;
  border-radius: $radius-sm;
  padding: $spacing-md;
  gap: $spacing-sm;
  
  .bluetooth-scan-icon {
    @include icon-base($size: $font-size-md);
    color: $primary;
    
    &.scanning {
      animation: pulse 1s ease-in-out infinite;
    }
  }
  
  .bluetooth-scan-label {
    @include text-secondary;
    font-size: $font-size-sm;
  }
}

// =============================================================================
// BLUETOOTH DEVICES
// =============================================================================

.bluetooth-devices {
  margin-top: $spacing-xs;
}

.bluetooth-device {
  @include interactive-element;
  @include flex-between;
  border-radius: $radius-sm;
  padding: $spacing-sm $spacing-md;
  margin-bottom: $spacing-xs;
  transition: $transition-hover;
  
  &:hover:not(.connecting) {
    background-color: $hover-overlay;
  }
  
  &.connecting {
    opacity: 0.7;
    
    .bluetooth-device-icon.connecting {
      animation: pulse 1s ease-in-out infinite;
    }
  }
  
  .bluetooth-device-icon {
    @include icon-base($size: $font-size-md);
    
    &.connected {
      color: $primary;
      opacity: 1;
    }
    
    &.paired {
      color: $on-surface;
      opacity: 0.8;
    }
    
    &.available {
      color: $on-surface-variant;
      opacity: 0.6;
    }
    
    &.connecting {
      color: $primary;
      opacity: 1;
    }
  }
  
  .bluetooth-device-name {
    @include text-primary;
    font-size: $font-size-sm;
  }
  
  .bluetooth-device-status {
    @include text-tertiary;
    font-size: $font-size-xs;
    
    &.connected {
      color: $primary;
    }
    
    &.paired {
      color: $on-surface-variant;
    }
    
    &.available {
      color: $on-surface-dim;
    }
    
    &.connecting {
      color: $primary;
      font-style: italic;
    }
  }
  
  .bluetooth-connected-indicator {
    @include icon-base($size: $font-size-sm);
    color: $primary;
    opacity: 1;
  }
}

// =============================================================================
// BLUETOOTH STATES & ANIMATIONS
// =============================================================================

// Simple opacity animation for connecting state (GTK compatible)
@keyframes pulse {
  0% { opacity: 0.5; }
  50% { opacity: 1; }
  100% { opacity: 0.5; }
}

.bluetooth-empty {
  @include text-tertiary;
  padding: $spacing-md;
  text-align: center;
}

.bluetooth-disabled-message {
  @include text-secondary;
  padding: $spacing-md;
  font-style: italic;
  color: $on-surface-dim;
  text-align: center;
}
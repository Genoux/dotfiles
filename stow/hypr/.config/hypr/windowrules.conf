# ================================
# HYPRLAND WINDOW RULES CONFIG
# ================================
# See https://wiki.hyprland.org/Configuring/Window-Rules/
# See https://wiki.hyprland.org/Configuring/Workspace-Rules/

# ================================
# PERFORMANCE OPTIMIZATIONS
# ================================

# ================================
# XWAYLAND OPTIMIZATIONS
# ================================
# Fix dragging issues and optimize XWayland windows
windowrule = nofocus,class:^$,title:^$,xwayland:1,floating:1,fullscreen:0,pinned:0
windowrulev2 = noblur, xwayland:1, floating:1
windowrulev2 = opaque, xwayland:1, floating:1
windowrulev2 = noborder, xwayland:1, floating:1
windowrulev2 = noshadow, xwayland:1, floating:1

# ================================
# COMMUNICATION APPS
# ================================
# Caprine (Facebook Messenger)
windowrulev2 = float, class:^(Caprine)$
windowrulev2 = size 900 700, class:^(Caprine)$
windowrulev2 = center, class:^(Caprine)$
windowrulev2 = float, class:^(discord|slack)$
windowrulev2 = size 1200 800, class:^(discord|slack)$

# ================================
# FILE MANAGERS
# ================================
# Nautilus
windowrulev2 = float, class:^(org.gnome.Nautilus)$
windowrulev2 = size 65% 65%, class:^(org.gnome.Nautilus)$
windowrulev2 = center, class:^(org.gnome.Nautilus)$

# ================================
# SYSTEM UTILITIES
# ================================
# Audio/Network/Bluetooth controls
windowrulev2 = float, class:^(pavucontrol|blueman-manager|nm-connection-editor|blueberry.py)$
windowrulev2 = center, class:^(pavucontrol|blueman-manager|nm-connection-editor|blueberry.py)$
windowrulev2 = size 600 500, class:^(pavucontrol|blueman-manager|nm-connection-editor|blueberry.py)$

# ================================
# PRODUCTIVITY APPS
# ================================
# Notion Calendar
windowrule = float, class:^(notion-calendar-electron)$
windowrule = size 1440 940, class:^(notion-calendar-electron)$
windowrule = center, class:^(notion-calendar-electron)$

# TUI Applications - desktop application support
windowrulev2 = float, title:^(bluetui)$
windowrulev2 = center, title:^(bluetui)$
windowrulev2 = size 1024 700, title:^(bluetui)$

# Internet Manager (impala/iwd TUI) - matches any terminal with impala title
windowrulev2 = float, title:^(impala)$
windowrulev2 = center, title:^(impala)$
windowrulev2 = size 1024 700, title:^(impala)$

# kitty floating
windowrulev2 = float, title:^(kitty)$
windowrulev2 = center, title:^(kitty)$
windowrulev2 = size 1000 600, title:^(kitty)$

# btop floating
windowrulev2 = float, title:^(btop)$
windowrulev2 = center, title:^(btop)$
windowrulev2 = size 1024 600, title:^(btop)$

# wiremix floating
windowrulev2 = float, title:^(wiremix)$
windowrulev2 = center, title:^(wiremix)$
windowrulev2 = size 1024 700, title:^(wiremix)$

# calcure floating
windowrulev2 = float, title:^(calcure)$
windowrulev2 = center, title:^(calcure)$
windowrulev2 = size 1024 700, title:^(calcure)$

# gnome calendar floating
windowrulev2 = float, class:^(org.gnome.Calendar)$
windowrulev2 = center, class:^(org.gnome.Calendar)$
windowrulev2 = size 1280 700, class:^(org.gnome.Calendar)$

# gnome calculator floating
windowrulev2 = float, class:^(org.gnome.Calculator)$
windowrulev2 = center, class:^(org.gnome.Calculator)$
windowrulev2 = size 500 700, class:^(org.gnome.Calculator)$

windowrulev2 = float, class:^(chrome-*)$
windowrulev2 = center, class:^(chrome-*)$
windowrulev2 = size 1024 700, class:^(chrome-*)$

# claude floating
windowrulev2 = float, title:^(Claude)$
windowrulev2 = center, title:^(Claude)$
windowrulev2 = size 1280 940, title:^(Claude)$

# wthrr floating
windowrulev2 = float, title:^(wthrr)$
windowrulev2 = center, title:^(wthrr)$
windowrulev2 = size 630 650, title:^(wthrr)$

# clipse floating
windowrulev2 = float, title:^(clipse)$
windowrulev2 = center, title:^(clipse)$
windowrulev2 = size 700 700, title:^(clipse)$

# Dotfiles Manager
windowrulev2 = float, class:^(dotfiles-manager)$
windowrulev2 = center, class:^(dotfiles-manager)$
windowrulev2 = size 631 480, class:^(dotfiles-manager)$

# Picture-in-Picture windows
windowrulev2 = pin, title:^(Picture in picture)$
windowrulev2 = float, title:^(Picture in picture)$
windowrulev2 = size 25% 25%, title:^(Picture in picture)$
windowrulev2 = move 100%-25%-10 100%-25%-10, title:^(Picture in picture)$

# satty 1024
windowrulev2 = size 1280 720, class:^(satty)$

# NordPass floating and pinned
windowrulev2 = float, class:^(NordPass)$
windowrulev2 = center, class:^(NordPass)$
windowrulev2 = size 1024 700, class:^(NordPass)$
windowrulev2 = noborder, class:^(NordPass)$
windowrulev2 = noshadow, class:^(NordPass)$
windowrulev2 = pin, class:^(NordPass)$

# OSD (On-Screen Display) overlays - Multiple approaches
layerrule = blur, osd
layerrule = ignorealpha 0.0, osd
layerrule = blurpopups, osd

# SwayOSD - Volume/Brightness overlays
layerrule = blur, swayosd
layerrule = ignorealpha 0.2, swayosd

# AGS GTK4 Layer Shell - enhanced blur
layerrule = blur, gtk4-layer-shell
layerrule = blurpopups, gtk4-layer-shell
layerrule = ignorealpha 0, gtk4-layer-shell

layerrule = blur, notifications
layerrule = ignorealpha 0.2, notifications

# Notification overlays
layerrule = blur, notifications
layerrule = ignorealpha 0.2, notifications

layerrule = blur, ^(walker)$
layerrule = ignorealpha 0.2, ^(walker)$

# SwayNC notifications and control center
layerrule = blur, swaync-control-center
layerrule = blur, swaync-notification-window
layerrule = ignorealpha 0.1, swaync-control-center
layerrule = ignorealpha 0.1, swaync-notification-window

# ================================
# CHROME WEBAPPS
# ================================
# Chrome webapps transparency
windowrulev2 = opacity 0.9 0.9, class:^(chrome-.*)$


# ================================
# SPECIAL WORKSPACES
# ================================
# Secret workspace - always on top over everything
#workspace = special:secret, on-created-empty:kitty
windowrulev2 = fullscreen, workspace:special:secret
windowrulev2 = pin, workspace:special:secret

# Float Steam, fullscreen RetroArch
windowrule = float, class:steam
windowrule = center, class:steam, title:Steam
windowrule = opacity 1 1, class:steam
windowrule = size 1100 700, class:steam, title:Steam
windowrule = size 460 800, class:steam, title:Friends List
windowrule = idleinhibit fullscreen, class:steam
# ================================
# HYPRLAND WINDOW RULES CONFIG
# ================================
# See https://wiki.hyprland.org/Configuring/Window-Rules/
# See https://wiki.hyprland.org/Configuring/Workspace-Rules/

# ================================
# PERFORMANCE OPTIMIZATIONS
# ================================
# Immediate rendering for performance-critical apps
# Let Kitty handle its own transparency internally (disable Hyprland opacity)
windowrulev2 = opacity 1.0 1.0, class:^(kitty)$

# ================================
# XWAYLAND OPTIMIZATIONS
# ================================
# Fix dragging issues and optimize XWayland windows
windowrule = nofocus,class:^$,title:^$,xwayland:1,floating:1,fullscreen:0,pinned:0
windowrulev2 = noblur, xwayland:1, floating:1
windowrulev2 = opaque, xwayland:1, floating:1
windowrulev2 = noborder, xwayland:1, floating:1
windowrulev2 = noshadow, xwayland:1, floating:1

# ================================
# COMMUNICATION APPS
# ================================
# Caprine (Facebook Messenger)
windowrulev2 = float, class:^(Caprine)$
windowrulev2 = size 900 700, class:^(Caprine)$
windowrulev2 = center, class:^(Caprine)$
windowrulev2 = float, class:^(discord|slack)$
windowrulev2 = size 1200 800, class:^(discord|slack)$

# ================================
# FILE MANAGERS
# ================================
# Nautilus
windowrulev2 = float, class:^(org.gnome.Nautilus)$
windowrulev2 = size 65% 65%, class:^(org.gnome.Nautilus)$
windowrulev2 = center, class:^(org.gnome.Nautilus)$

# ================================
# SYSTEM UTILITIES
# ================================
# Audio/Network/Bluetooth controls
windowrulev2 = float, class:^(pavucontrol|blueman-manager|nm-connection-editor|blueberry.py)$
windowrulev2 = center, class:^(pavucontrol|blueman-manager|nm-connection-editor|blueberry.py)$
windowrulev2 = size 600 500, class:^(pavucontrol|blueman-manager|nm-connection-editor|blueberry.py)$



# ================================
# PRODUCTIVITY APPS
# ================================
# Notion Calendar
windowrule = float, class:^(notion-calendar-electron)$
windowrule = size 1440 940, class:^(notion-calendar-electron)$
windowrule = center, class:^(notion-calendar-electron)$

windowrulev2 = float, class:^(bluetui)$
windowrulev2 = center, class:^(bluetui)$
windowrulev2 = size 800 600, class:^(bluetui)$
windowrulev2 = pin, class:^(bluetui)$
windowrulev2 = opacity 0.9 0.8, class:^(bluetui)$

# Picture-in-Picture windows
windowrulev2 = pin, title:^(Picture-in-Picture)$
windowrulev2 = float, title:^(Picture-in-Picture)$
windowrulev2 = move 74.3% 70%, title:^(Picture-in-Picture)$
windowrulev2 = size 25% 25%, title:^(Picture-in-Picture)$

# ================================
# BROWSER SPECIFIC RULES
# ================================
# Firefox Extensions and Indicators
# windowrulev2 = float, class:^(firefox)$, title:^(Extension:)
# windowrulev2 = float, class:^(firefox)$, title:^(Firefox — Sharing Indicator)$
# windowrulev2 = move 0 0, class:^(firefox)$, title:^(Firefox — Sharing Indicator)$
# windowrulev2 = float, class:^(firefox)$, title:^(.*)Notification(.*)$
# windowrulev2 = float, class:^(firefox)$, title:^(.*)Permission(.*)$
# windowrulev2 = float, class:^(firefox)$, title:^(.*)Alert(.*)$
# windowrulev2 = size 400 300, class:^(firefox)$, title:^(.*)Notification(.*)$
# windowrulev2 = center, class:^(firefox)$, title:^(.*)Notification(.*)$
# windowrulev2 = float, class:^(firefox)$, title:^(Open File|Save File|File Upload)$
# windowrulev2 = size 800 600, class:^(firefox)$, title:^(Open File|Save File|File Upload)$
# windowrulev2 = center, class:^(firefox)$, title:^(Open File|Save File|File Upload)$


# OSD (On-Screen Display) overlays - Multiple approaches
layerrule = blur, osd
layerrule = ignorealpha 0.0, osd
layerrule = blurpopups, osd

# SwayOSD - Volume/Brightness overlays
layerrule = blur, swayosd
layerrule = ignorealpha 0.2, swayosd

# AGS GTK4 Layer Shell - enhanced blur
layerrule = blur, gtk4-layer-shell
layerrule = blurpopups, gtk4-layer-shell
layerrule = ignorealpha 0.2, gtk4-layer-shell

# Notification overlays
layerrule = blur, notifications
layerrule = ignorealpha 0.2, notifications

layerrule = blur, walker

# SwayNC notifications and control center
layerrule = blur, swaync-control-center
layerrule = blur, swaync-notification-window
layerrule = ignorealpha 0.1, swaync-control-center
layerrule = ignorealpha 0.1, swaync-notification-window

# ================================
# SPECIAL WORKSPACES
# ================================
# Secret workspace - always on top over everything
workspace = special:secret, on-created-empty:kitty
windowrulev2 = fullscreen, workspace:special:secret
windowrulev2 = pin, workspace:special:secret
windowrulev2 = stayfocused, workspace:special:secret




# ================================
# HYPRLAND WINDOW RULES CONFIG
# ================================
# See https://wiki.hyprland.org/Configuring/Window-Rules/
# See https://wiki.hyprland.org/Configuring/Workspace-Rules/

# ================================
# XWAYLAND OPTIMIZATIONS
# ================================
# Fix dragging issues and optimize XWayland windows
windowrule = nofocus,class:^$,title:^$,xwayland:1,floating:1,fullscreen:0,pinned:0
windowrulev2 = noblur, xwayland:1, floating:1
windowrulev2 = opaque, xwayland:1, floating:1
#windowrulev2 = noborder, xwayland:1, floating:1
windowrulev2 = noshadow, xwayland:1, floating:1

# ================================
# COMMUNICATION APPS
# ================================
windowrulev2 = float, class:^(Caprine)$
windowrulev2 = size 1280 700, class:^(Caprine)$
windowrulev2 = center, class:^(Caprine)$
windowrulev2 = float, class:^(discord|slack)$
windowrulev2 = size 1200 800, class:^(discord|slack)$

# ================================
# FILE MANAGERS
# ================================
# Nautilus
windowrulev2 = float, class:^(org.gnome.Nautilus)$
windowrulev2 = size 65% 65%, class:^(org.gnome.Nautilus)$
windowrulev2 = center, class:^(org.gnome.Nautilus)$

# ================================
# SYSTEM UTILITIES
# ================================
# Audio/Network/Bluetooth controls
windowrulev2 = float, class:^(pavucontrol|blueman-manager|nm-connection-editor|blueberry.py)$
windowrulev2 = center, class:^(pavucontrol|blueman-manager|nm-connection-editor|blueberry.py)$
windowrulev2 = size 600 500, class:^(pavucontrol|blueman-manager|nm-connection-editor|blueberry.py)$

# System Info (fastfetch)
windowrulev2 = float, class:^(system-info)$
windowrulev2 = center, class:^(system-info)$
windowrulev2 = size 1035 540, class:^(system-info)$

# ================================
# PRODUCTIVITY APPS
# ================================
# Notion Calendar
windowrule = float, class:^(notion-calendar-electron)$
windowrule = size 1440 940, class:^(notion-calendar-electron)$
windowrule = center, class:^(notion-calendar-electron)$

# ================================
# MEDIA PLAYERS
# ================================
# mpv video player
windowrulev2 = float, class:^(mpv)$
windowrulev2 = center, class:^(mpv)$
windowrulev2 = size 70% 70%, class:^(mpv)$

# TUI Applications - desktop application support
windowrulev2 = float, title:^(bluetui)$
windowrulev2 = center, title:^(bluetui)$
windowrulev2 = size 700 700, title:^(bluetui)$

# Internet Manager (impala/iwd TUI) - matches any terminal with impala title
windowrulev2 = float, title:^(impala)$
windowrulev2 = center, title:^(impala)$
windowrulev2 = size 1024 700, title:^(impala)$

# kitty floating
windowrulev2 = float, title:^(kitty)$
windowrulev2 = center, title:^(kitty)$
windowrulev2 = size 1000 600, title:^(kitty)$

# btop floating
windowrulev2 = float, title:^(btop)$
windowrulev2 = center, title:^(btop)$
windowrulev2 = size 1024 600, title:^(btop)$

# battop
windowrulev2 = float, title:^(battop)$
windowrulev2 = center, title:^(battop)$
windowrulev2 = size 1024 700, title:^(battop)$

# wiremix floating
windowrulev2 = float, title:^(wiremix)$
windowrulev2 = center, title:^(wiremix)$
windowrulev2 = size 800 700, title:^(wiremix)$

windowrulev2 = float, title:^(weather)$
windowrulev2 = center, title:^(weather)$
windowrulev2 = size 600 380, title:^(weather)$

# gnome calendar floating
windowrulev2 = float, class:^(org.gnome.Calendar)$
windowrulev2 = center, class:^(org.gnome.Calendar)$
windowrulev2 = size 1280 700, class:^(org.gnome.Calendar)$

# gnome calculator floating
windowrulev2 = float, class:^(org.gnome.Calculator)$
windowrulev2 = center, class:^(org.gnome.Calculator)$
windowrulev2 = size 500 700, class:^(org.gnome.Calculator)$

# wthrr floating
windowrulev2 = float, title:^(wthrr)$
windowrulev2 = center, title:^(wthrr)$
windowrulev2 = size 630 650, title:^(wthrr)$

# clipse floating
windowrulev2 = float, title:^(clipse)$
windowrulev2 = center, title:^(clipse)$
windowrulev2 = size 700 700, title:^(clipse)$

# Dotfiles Manager
windowrulev2 = float, class:^(dotfiles-manager)$
windowrulev2 = center, class:^(dotfiles-manager)$
windowrulev2 = size 655 500, class:^(dotfiles-manager)$

# Picture-in-Picture windows (YouTube, Firefox, Chrome, etc)
# Firefox and some browsers use "Picture-in-Picture" title
windowrulev2 = pin, title:^(Picture in picture)$
windowrulev2 = float, title:^(Picture in picture)$
windowrulev2 = size 25% 25%, title:^(Picture in picture)$
windowrulev2 = move 100%-25.5% 100%-28.5%, title:^(Picture in picture)$

# satty - increased height for menu bar spacing
windowrulev2 = size 1280 800, title:^(satty)$
windowrulev2 = center, title:^(satty)$
windowrulev2 = float, title:^(satty)$
windowrulev2 = noinitialfocus, title:^(satty)$

# OSD (On-Screen Display) overlays - Multiple approaches
layerrule = blur, osd
layerrule = ignorealpha 0.0, osd
layerrule = blurpopups, osd

# AGS GTK4 Layer Shell - enhanced blur
layerrule = blur, gtk4-layer-shell
layerrule = blurpopups, gtk4-layer-shell
layerrule = ignorealpha 0.1, gtk4-layer-shell

windowrulev2 = float, class:^(Claude)$
windowrulev2 = center, class:^(Claude)$
windowrulev2 = size 1280 800, class:^(Claude)$

# Notification overlays
layerrule = blur, notifications
layerrule = ignorealpha 0.0, notifications

layerrule = blur, ^(walker)$
layerrule = ignorealpha 0.2, ^(walker)$
#layerrule = animation none, ^(walker)$  # Instant - no animation for walker

# ================================
# BROWSER WEBAPPS / PWAs
# ================================
# Chrome/Chromium PWAs
windowrulev2 = float, class:^(chrome-.*)$
windowrulev2 = center, class:^(chrome-.*)$
windowrulev2 = size 1280 800, class:^(chrome-.*)$

# ================================
# SPECIAL WORKSPACES
# ================================
# Secret workspace - always on top over everything
windowrulev2 = fullscreen, workspace:special:secret
windowrulev2 = pin, workspace:special:secret

# ================================
# HYPRLAND WINDOW RULES CONFIG
# ================================
# See https://wiki.hyprland.org/Configuring/Window-Rules/
# See https://wiki.hyprland.org/Configuring/Workspace-Rules/

# ================================
# XWAYLAND OPTIMIZATIONS
# ================================
# Fix dragging issues and optimize XWayland windows
windowrule = nofocus,class:^$,title:^$,xwayland:1,floating:1,fullscreen:0,pinned:0
windowrulev2 = noblur, xwayland:1, floating:1
windowrulev2 = opaque, xwayland:1, floating:1
windowrulev2 = noborder, xwayland:1, floating:1
windowrulev2 = noshadow, xwayland:1, floating:1

# ================================
# BROWSERS
# ================================
windowrulev2=noblur,class:^()$,title:^()$

# ================================
# ELECTRON APPS
# ================================
# Disable shadows for Electron-based applications
windowrulev2 = noshadow, class:^(electron|Electron)$

# ================================
# COMMUNICATION APPS
# ================================
windowrulev2 = float, class:^(discord|slack)$
windowrulev2 = size 1200 800, class:^(discord|slack)$

# ================================
# FILE MANAGERS
# ================================
windowrulev2 = float, class:^(org.gnome.Nautilus)$
windowrulev2 = center, class:^(org.gnome.Nautilus)$
windowrulev2 = size 65% 65%, class:^(org.gnome.Nautilus)$
windowrulev2 = opacity 0.90 0.90, class:^(org.gnome.Nautilus)$

# GTK File Picker Dialog
windowrulev2 = float, class:^(xdg-desktop-portal-gtk)$
windowrulev2 = size 60% 70%, class:^(xdg-desktop-portal-gtk)$
windowrulev2 = center, class:^(xdg-desktop-portal-gtk)$
windowrulev2 = opacity 0.90 0.90, class:^(xdg-desktop-portal-gtk)$

# ================================
# SYSTEM UTILITIES
# ================================

# System Info (fastfetch)
windowrulev2 = float, class:^(system-info)$
windowrulev2 = center, class:^(system-info)$
windowrulev2 = size 1016 450, class:^(system-info)$

windowrulev2 = float, class:^(Caprine)$
windowrulev2 = center, class:^(Caprine)$
windowrulev2 = size 490 700, class:^(Caprine)$


# ================================
# PRODUCTIVITY APPS
# ================================
# Notion Calendar
windowrule = float, class:^(calcure)$
windowrule = size 1024 480, class:^(calcure)$
windowrule = center, class:^(calcure)$

windowrulev2 = float, class:^(mpv)$
windowrulev2 = center, class:^(mpv)$
windowrulev2 = size 30% 30%, class:^(mpv)$
windowrulev2 = pin, class:^(mpv)$


# Live cam - browser app mode (cam.jbroom.ca)
windowrulev2 = float, initialTitle:.*cam\.jbroom\.ca.*
windowrulev2 = center, initialTitle:.*cam\.jbroom\.ca.*
windowrulev2 = size 1280 720, initialTitle:.*cam\.jbroom\.ca.*
#windowrulev2 = pin, initialTitle:.*cam\.jbroom\.ca.*

# TUI Applications - desktop application support
windowrulev2 = float, title:^(bluetui)$
windowrulev2 = center, title:^(bluetui)$
windowrulev2 = size 700 700, title:^(bluetui)$

# Internet Manager (impala/iwd TUI) - matches any terminal with impala title
windowrulev2 = float, title:^(impala)$
windowrulev2 = center, title:^(impala)$
windowrulev2 = size 1024 700, title:^(impala)$

# kitty floating
windowrulev2 = float, title:^(kitty)$
windowrulev2 = center, title:^(kitty)$
windowrulev2 = size 1000 600, title:^(kitty)$

# btop floating
windowrulev2 = float, title:^(btop)$
windowrulev2 = center, title:^(btop)$
windowrulev2 = size 1024 600, title:^(btop)$

# battop
windowrulev2 = float, title:^(battop)$
windowrulev2 = center, title:^(battop)$
windowrulev2 = size 1024 700, title:^(battop)$

# wiremix floating
windowrulev2 = float, title:^(wiremix)$
windowrulev2 = center, title:^(wiremix)$
windowrulev2 = size 800 700, title:^(wiremix)$

windowrulev2 = float, title:^(weather)$
windowrulev2 = center, title:^(weather)$
windowrulev2 = size 1080 800, title:^(weather)$

# wthrr floating
windowrulev2 = float, title:^(wthrr)$
windowrulev2 = center, title:^(wthrr)$
windowrulev2 = size 630 650, title:^(wthrr)$

# clipse floating
windowrulev2 = float, title:^(clipse)$
windowrulev2 = center, title:^(clipse)$
windowrulev2 = size 700 700, title:^(clipse)$

# Dotfiles Manager
windowrulev2 = float, class:^(dotfiles-manager)$
windowrulev2 = center, class:^(dotfiles-manager)$
windowrulev2 = size 628 400, class:^(dotfiles-manager)$

# Picture-in-Picture windows (YouTube, Firefox, Chrome, etc)
# Firefox and some browsers use "Picture-in-Picture" title
windowrulev2 = pin, title:^(Picture in picture)$
windowrulev2 = float, title:^(Picture in picture)$
windowrulev2 = size 25% 25%, title:^(Picture in picture)$
windowrulev2 = move 100%-25.5% 100%-28.5%, title:^(Picture in picture)$

windowsrulev2 = size 25% 25%, title:^(Picture-in-Picture)$
windowsrulev2 = move 100%-25.5% 100%-28.5%, title:^(Picture-in-Picture)$
windowrulev2 = pin, title:^(Picture-in-Picture)$
windowrulev2 = float, title:^(Picture-in-Picture)$


# satty - increased height for menu bar spacing
windowrulev2 = size 1280 800, title:^(satty)$
windowrulev2 = center, title:^(satty)$
windowrulev2 = float, title:^(satty)$
windowrulev2 = noinitialfocus, title:^(satty)$

# OSD (On-Screen Display) overlays - Multiple approaches
layerrule = blur, osd
layerrule = ignorealpha 0.0, osd
layerrule = blurpopups, osd

# AGS GTK4 Layer Shell - enhanced blur
layerrule = blur, gtk4-layer-shell
layerrule = blurpopups, gtk4-layer-shell
layerrule = ignorealpha 0.1, gtk4-layer-shell

windowrulev2 = float, class:^(Claude)$
windowrulev2 = center, class:^(Claude)$
windowrulev2 = size 1280 800, class:^(Claude)$

# Notification overlays
layerrule = blur, notifications
layerrule = ignorealpha 0.0, notifications

layerrule = blur, ^(walker)$
layerrule = ignorealpha 0.2, ^(walker)$
layerrule = animation fade, ^(walker)$  # Fade animation (uses layersIn timing)#layerrule = animation none, ^(walker)$  # Instant - no animation for walker

# ================================
# GAMES
# ================================
# Legends of Idleon - Web (PWA)
windowrulev2 = float, title:www.legendsofidleon.com_/ytGl5oc/
windowrulev2 = size 79% 79%, initialTitle:www.legendsofidleon.com_/ytGl5oc/
windowrulev2 = center, initialTitle:www.legendsofidleon.com_/ytGl5oc/

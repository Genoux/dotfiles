# ================================
# HYPRLAND AUTOSTART CONFIG
# ================================
# Applications and services to start with Hyprland

# ================================
# CORE SYSTEM SERVICES
# ================================
# D-Bus and environment setup (critical first)
exec-once = dbus-update-activation-environment --systemd WAYLAND_DISPLAY XDG_CURRENT_DESKTOP XDG_RUNTIME_DIR
exec-once = systemctl --user import-environment WAYLAND_DISPLAY XDG_CURRENT_DESKTOP XDG_RUNTIME_DIR

# Authentication agent
exec-once = lxpolkit

# Hyprland plugins
exec-once = hyprpm reload -n

# GNOME settings for compatibility
exec-once = gsettings set org.gnome.desktop.wm.preferences button-layout appmenu

# Default browser
exec-once = xdg-settings set default-web-browser firefox.desktop

# ================================
# DESKTOP ENVIRONMENT
# ================================
# Wallpaper daemon
exec-once = swww-daemon
exec-once = system-pick-wallpaper

# App launcher service (walker needs elephant running first)
exec-once = elephant & sleep 2 && walker --gapplication-service

# Clipboard manager
exec-once = wl-paste -p --watch wl-copy -pc
exec-once = clipse -listen

# Idle management
#exec-once = hypridle

# ================================
# OPTIONAL SERVICES
# ================================
# System information
exec-once = system-fullscreen-toggle-bar &
exec-once = wayvnc &
exec-once = mako
exec-once = systemctl --user start ags.service
exec-once = wl-paste --watch cliphist store

# Bluetooth auto-connect service
exec-once = systemctl --user start bluetooth.service
# ================================
# HYPRLAND ENVIRONMENT CONFIG
# ================================
# Environment variables for Wayland and application compatibility

# ================================
# WAYLAND & DISPLAY SERVER
# ================================
env = WAYLAND_DISPLAY,wayland-1
env = XDG_CURRENT_DESKTOP,Hyprland
env = XDG_SESSION_DESKTOP,Hyprland
env = XDG_SESSION_TYPE,wayland

env = XDG_SESSION_CLASS,user

env = GTK_USE_PORTAL,0
env = QT_WAYLAND_DISABLE_SELECTION,1

# Disable XDG desktop portal warnings
env = HYPRLAND_NO_SD_NOTIFY,1

# ================================
# PATH CONFIGURATION
# ================================
# Add ~/.local/bin and ~/dotfiles/bin to PATH for scripts
env = PATH,$HOME/.local/bin:$HOME/dotfiles/bin:/usr/local/sbin:/usr/local/bin:/usr/bin:/var/lib/flatpak/exports/bin:/usr/lib/jvm/default/bin:/usr/bin/site_perl:/usr/bin/vendor_perl:/usr/bin/core_perl

# ================================
# WAYLAND BACKEND SETTINGS
# ================================
env = CLUTTER_BACKEND,wayland
env = GDK_BACKEND,wayland,x11

# ================================
# QT APPLICATION SETTINGS
# ================================
env = QT_AUTO_SCREEN_SCALE_FACTOR,1
env = QT_QPA_PLATFORM,wayland;xcb
env = QT_QPA_PLATFORMTHEME,gtk3
env = QT_WAYLAND_DISABLE_WINDOWDECORATION,1

# ================================
# GTK APPLICATION SETTINGS
# ================================
env = GTK_IM_MODULE,wayland
env = GTK_CSD,0
env = HL_INITIAL_WORKSPACE_TOKEN,0
env = GDK_DECORATION_LAYOUT,

# Force GTK to use dark theme preference
env = GTK2_RC_FILES,/home/john/.gtkrc-2.0

# Mac-style keybindings: Alt for copy/paste instead of Ctrl
env = GTK_KEY_THEME_NAME,Emacs

# ================================
# BROWSER SETTINGS
# ================================
# Firefox optimizations
env = MOZ_DISABLE_RDD_SANDBOX,1
env = MOZ_ENABLE_WAYLAND,1
env = MOZ_WEBRENDER,1
env = MOZ_GTK_TITLEBAR_DECORATION,client

# ================================
# ELECTRON APP COMPATIBILITY
# ================================
env = ELECTRON_OZONE_PLATFORM_HINT,wayland
env = ELECTRON_ENABLE_WAYLAND,1
env = ELECTRON_DISABLE_FRAME,1
env = ELECTRON_DISABLE_DEFAULT_MENU_BAR,1

# ================================
# THEME & CURSOR SETTINGS
# ================================
# GTK theme
#env = GTK_THEME,MacTahoe-Dark
# Cursor theme managed by dotfiles theme system
source = ~/.config/hypr/cursor.conf
env = XCURSOR_PATH,$HOME/.local/share/icons:$HOME/.icons:/usr/share/icons:/usr/share/pixmaps

# ================================
# APPLICATION SPECIFIC
# ================================
env = TERMINAL,kitty
# Java AWT
env = JAVA_AWT_WM_NONREPARENTING,1
# GTK/QT scaling - set to 1 for 1080p desktop
env = GDK_SCALE,1
env = QT_SCALE_FACTOR,1

# Gaming performance
env = WINE_CPU_TOPOLOGY,4:2
env = DXVK_ASYNC,1
env = DXVK_STATE_CACHE,1
env = VKFFT_BACKEND,2

# Mesa/graphics optimizations
env = MESA_SHADER_CACHE_DISABLE,false

env = OPENWEATHERMAP_API_KEY,d9219c0472bace98bededdf4f2701585
env = WEATHER_CITY, Montreal

#!/bin/bash

[[ -f ~/.config/user-dirs.dirs ]] && source ~/.config/user-dirs.dirs
OUTPUT_DIR="${SCREENSHOT_DIR:-${XDG_PICTURES_DIR:-$HOME/Pictures}}"
FILENAME="$OUTPUT_DIR/screenshot-$(date +'%Y-%m-%d_%H-%M-%S').png"

case "${1:-region}" in
  output)
    MODE="output"
    ;;
  window)
    MODE="window"
    ;;
  *)
    MODE="region"
    ;;
esac

hyprshot --freeze -m "$MODE" -r -s | satty --filename - --output-filename "$FILENAME"
